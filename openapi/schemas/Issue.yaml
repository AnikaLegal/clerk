allOf:
  - $ref: ./IssueBase.yaml
  - type: object
    properties:
      id:
        type: string
        format: uuid
      topic_display:
        type: string
      stage_display:
        type: string
      outcome_display:
        type: string
        nullable: true
      fileref:
        type: string
      is_sharepoint_set_up:
        type: boolean
      paralegal:
        $ref: ./User.yaml
        nullable: true
      lawyer:
        $ref: ./User.yaml
        nullable: true
      client:
        $ref: ./Client.yaml
      support_worker:
        $ref: ./Person.yaml
        nullable: true
      actionstep_id:
        type: integer
        nullable: true
      created_at:
        type: string
      url:
        type: string
      answers:
        type: object
        additionalProperties:
          type: string
      # Case review fields
      is_conflict_check:
        type: boolean
        nullable: true
      is_eligibility_check:
        type: boolean
        nullable: true
      next_review:
        type: string
        nullable: true
    required:
      - id
      - topic_display
      - stage_display
      - outcome_display
      - fileref
      - paralegal
      - lawyer
      - client
      - support_worker
      - is_sharepoint_set_up
      - actionstep_id
      - created_at
      - url
      - answers
      - is_conflict_check
      - is_eligibility_check
      - next_review
